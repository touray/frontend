// Drupal 7
//
// Optional Drupal 7 component. Example styling below won't be accurate unless Drupal's stylesheets are added to the KSS config.
//
// Style guide: frontend.drupal.drupal7

// scss-lint:disable QualifyingElement, MergeableSelector

// Variables
//
// Drupal 7 component variables. To add/edit component variables, use <code>scss/_variables.scss</code>.
//
// $message-margin                     - Defines the site message margin. Default: <code>rem-calc($global-margin 0)</code>
// $message-padding                    - Defines the site message padding. Default: <code>$global-padding</code>
// $message-border                     - Defines the site message border. Default: <code>rem-calc(1) solid</code>
// $message-status-background          - Defines the status message background. Default: <code>rgba($success-color, .5)</code>
// $message-status-border              - Defines the status message border. Default: <code>rem-calc(1) solid darken($success-color, 50%)</code>
// $message-status-color               - Defines the status message color. Default: <code>darken($success-color, 50%)</code>
// $message-warning-background         - Defines the warning message background. Default: <code>rgba($warning-color, .5)</code>
// $message-warning-border             - Defines the warning message border. Default: <code>rem-calc(1) solid darken($warning-color, 50%)</code>
// $message-warning-color              - Defines the warning message color. Default: <code>darken($warning-color, 50%)</code>
// $message-error-background           - Defines the error message background. Default: <code>rgba($alert-color, .5)</code>
// $message-error-border               - Defines the error message border. Default: <code>rem-calc(1) solid darken($alert-color, 50%)</code>
// $message-error-color                - Defines the error message color. Default: <code>darken($alert-color, 50%)</code>
// $progress-bar-background            - Defines the progress bar background. Default: <code>$progress-background</code>
// $progress-bar-border                - Defines the progress bar border. Default: <code>rem-calc(1) solid $medium-gray</code>
// $progress-bar-percentage-float      - Defines the percentage text float. Default: <code>right</code>
// $progress-bar-margin                - Defines the progress bar margin. Default: <code>rem-calc(0 0 $global-margin 0)</code>
// $progress-bar-radius                - Defines the progress bar radius. Default: <code>rem-calc($progress-radius)</code>
// $progress-filled-background         - Defines the progress filled background. Default: <code>$progress-meter-background</code>
// $progress-height                    - Defines the progress height. Default: <code>$progress-height</code>
// $progress-weight                    - Defines the progress weight. Default: <code>$global-weight-bold</code>
//
// Weight: 1
//
// Style guide: frontend.drupal.drupal7.variables
$message-margin:  rem-calc($global-margin 0)                           !default;
$message-padding: $global-padding                                      !default;
$message-border:  rem-calc(1) solid                                    !default;

// Status
$message-status-background: rgba($success-color, .5)                   !default;
$message-status-border:     rem-calc(1) solid darken($success-color, 30%) !default;
$message-status-color:      darken($success-color, 50%)                !default;

// Warning
$message-warning-background: rgba($warning-color, .5)                  !default;
$message-warning-border:     rem-calc(1) solid darken($warning-color, 30%) !default;
$message-warning-color:      darken($warning-color, 50%)               !default;

// Error
$message-error-background: rgba($alert-color, .5)                      !default;
$message-error-border:     rem-calc(1) solid darken($alert-color, 30%) !default;
$message-error-color:      darken($alert-color, 50%)                   !default;

// Progress bar
$progress-bar-background:            $progress-background              !default;
$progress-bar-border:                rem-calc(1) solid $medium-gray    !default;
$progress-bar-percentage-float:      right                             !default;
$progress-bar-message-margin:        rem-calc(0 0 $global-margin 0)    !default;
$progress-margin-bottom:             $progress-margin-bottom           !default;
$progress-bar-radius:                rem-calc($progress-radius)        !default;
$progress-filled-background:         $progress-meter-background        !default;
$progress-height:                    $progress-height                  !default;
$progress-weight:                    $global-weight-bold               !default;

// Message
//
// .messages - Default message styling.
// .status   - Status styling.
// .warning  - Warning styling.
// .error    - Error styling.
//
// Markup:
// <div class="messages {{modifier_class}}">
//   Sed feugiat velit sed magna aliquam accumsan.
// </div>
//
// Weight: 2
//
// Style guide: frontend.drupal.drupal7.message
div {
  &.messages {
    background-position: 0% 0%;
    background-repeat: repeat;
    border: $message-border;
    margin: $message-margin;
    padding: $message-padding;
  }

  &.status {
    background: $message-status-background;
    border: $message-status-border;
    color: $message-status-color;
  }

  &.warning {
    background: $message-warning-background;
    border: $message-warning-border;
    color: $message-warning-color;
  }

  &.error {
    background: $message-error-background;
    border: $message-error-border;
    color: $message-error-color;
  }
}

.ok {
  color: $message-status-color;
}

.warning {
  color: $message-warning-color;
}

.error,
.marker,
.form-required {
  color: $message-error-color;
}

table tr.ok {
  background: $message-status-background;
}

table tr.warning {
  background: $message-warning-background;
}

table tr.error {
  background: $message-error-background;
}

// Progress Bar
//
// <b>There is a known conflict between <a href="http://foundation.zurb.com/sites/docs/progress-bar.html" target="_blank">Foundation's progress bar</a> class and Drupal's.</b> If using Drupal, it's recommended to comment out Foundation's progress bar component in <code>src/scss/framework/_framework.scss</code>.
//
// .progress - Default progress bar styling.
//
// Markup:
// <div class="progress {{modifier_class}}">
//   <div class="bar">
//     <div class="filled" style="width: 57%"></div>
//   </div>
//   <div class="percentage">57%</div>
//   <div class="message">Curabitur quis nunc nibh.</div>
// </div>
//
// Weight: 3
//
// Style guide: frontend.drupal.drupal7.error-message
.progress {
  font-weight: $progress-weight;

  .bar {
    background: $progress-bar-background;
    border-radius: $progress-bar-radius;
    border: $progress-bar-border;
    margin: 0 0 $progress-margin-bottom 0;
  }

  .filled {
    background: $progress-filled-background;
    height: $progress-height;
  }

  .percentage {
    float: $progress-bar-percentage-float;
  }

  .message {
    margin: $progress-bar-message-margin;
  }
}

// Form Submit
//
// .form-submit - Styles all Drupal submit buttons.
//
// Markup:
// <input type="button" class="form-submit" value="Submit" />
//
// Weight: 4
//
// Style guide: frontend.drupal.drupal7.form-submit
.form-submit {
  @include button;
}


// Password strength
$password-strength-margin:           0                                 !default;
$password-strength-width:            rem-calc(300)                     !default;
$password-indicator-background:      $progress-background              !default;
$password-indicator-fill-background: $progress-meter-background        !default;
$password-indicator-height:          rem-calc(24)                      !default;

// Pager
.pager {
  @include pagination-container;
}

// Menu tree
ul {
  li {
    &.collapsed,
    &.expanded,
    &.leaf {
      list-style-image: none;
      list-style-type: none;
    }
  }

  &.menu {
    li {
      margin: 0;
    }
  }
}

li.expanded,
li.collapsed,
li.leaf {
  margin: 0;
  padding: 0;
}

// Search results
.search-results {
  margin-left: 0;

  .search-snippet-info {
    padding-left: 0;
  }
}

// Forms
.form-item,
.form-actions {
  margin-bottom: rem-calc($global-margin);
  margin-top: rem-calc($global-margin);
}

.form-actions {
  button,
  [type='button'],
  [type='reset'],
  [type='submit'] {
    margin-bottom: 0;
  }

  .form-submit {
    margin-right: $global-margin;
  }
}

input {
  &.form-checkbox,
  &.form-radio {
    vertical-align: baseline;
  }
}

// Password strength
.password-strength {
  margin-top: $password-strength-margin;
  width: $password-strength-width;
}

.password-indicator {
  background: $password-indicator-background;
  height: $password-indicator-height;

  div {
    background: $password-indicator-fill-background;
  }
}
